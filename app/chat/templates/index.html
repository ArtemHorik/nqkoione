<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="UTF-8">
    <title>Анонимен Чат</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <style>
        .filter-btn {
            margin: 5px;
            padding: 10px;
        }

        .active {
            background-color: #007bff;
            color: white;
        }

        .multi-select {
            border: 1px solid #007bff;
        }

        .multi-select.active {
            background-color: #0056b3;
        }

        #start-chat {
            margin-top: 20px;
        }
    </style>
</head>
<body>
<div class="container mt-5">
    <h2>Тема на общуването:</h2>
    <div id="topic" class="btn-group" role="group">
        <button type="button" class="btn btn-secondary filter-btn active">Общуване</button>
        <button type="button" class="btn btn-secondary filter-btn">Флирт 18+</button>
    </div>
    <h2>Вашият пол:</h2>
    <div id="gender" class="btn-group" role="group">
        <button type="button" class="btn btn-secondary filter-btn active">Някой</button>
        <button type="button" class="btn btn-secondary filter-btn">М</button>
        <button type="button" class="btn btn-secondary filter-btn">Ж</button>
    </div>
    <h2>Пол на събеседника:</h2>
    <div id="partner-gender" class="btn-group" role="group">
        <button type="button" class="btn btn-secondary filter-btn active">Не важно</button>
        <button type="button" class="btn btn-secondary filter-btn">М</button>
        <button type="button" class="btn btn-secondary filter-btn">Ж</button>
    </div>
    
    <h2>Вашата възраст:</h2>
    <div id="age" class="btn-group" role="group">
        <button type="button" class="btn btn-secondary filter-btn">до 17 лет</button>
        <button type="button" class="btn btn-secondary filter-btn">от 18 до 21 года</button>
        <button type="button" class="btn btn-secondary filter-btn">от 22 до 25 лет</button>
        <button type="button" class="btn btn-secondary filter-btn">от 26 до 35 лет</button>
        <button type="button" class="btn btn-secondary filter-btn">старше 36 лет</button>
    </div>

    <h2>Възраст на събеседника:</h2>
    <div id="partner-age" class="btn-group" role="group">
        <button type="button" class="btn btn-secondary filter-btn multi-select">до 17 лет</button>
        <button type="button" class="btn btn-secondary filter-btn multi-select">от 18 до 21 года</button>
        <button type="button" class="btn btn-secondary filter-btn multi-select">от 22 до 25 лет</button>
        <button type="button" class="btn btn-secondary filter-btn multi-select">от 26 до 35 лет</button>
        <button type="button" class="btn btn-secondary filter-btn multi-select">старше 36 лет</button>
    </div>
    <p class="text-muted">Можете да са няколко</p>
    <h2>Цветова схема:</h2>
    <div id="theme" class="btn-group" role="group">
        <button type="button" class="btn btn-secondary filter-btn active">Светла</button>
        <button type="button" class="btn btn-secondary filter-btn">Тъмна</button>
    </div>
    <button id="start-chat" type="button" class="btn btn-success btn-lg btn-block">Начать чат</button>
    <div class="mt-4">Онлайн: <span id="users-online">5742</span> потребители</div>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script>

    function toggleActiveClass(button) {
        if (button.classList.contains('multi-select')) {
            button.classList.toggle('active');
        } else {
            let siblings = button.parentElement.children;
            for (let sibling of siblings) {
                sibling.classList.remove('active');
            }
            button.classList.add('active');
        }
    }

    // Filter buttons events
    document.querySelectorAll('.filter-btn').forEach(button => {
        button.addEventListener('click', function () {
            toggleActiveClass(this);
        });
    });
    
    function collectFilterData() {
        let topic = document.querySelector('#topic .active').textContent;
        let gender = document.querySelector('#gender .active').textContent;
        let partnerGender = document.querySelector('#partner-gender .active').textContent;
        let age = document.querySelector('#age .active').textContent;
        let partnerAges = Array.from(document.querySelectorAll('#partner-age .active')).map(button => button.textContent);

        return {
            topic: topic,
            gender: gender,
            partnerGender: partnerGender,
            age: age,
            partnerAges: partnerAges
        };
    }

    // Start chat button
    document.querySelector('#start-chat').addEventListener('click', function () {
        let filters = collectFilterData();
        console.log(filters); 
        
    });
</script>

</body>
</html>
